<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 2 頁 | azer3D</title>
  <meta name="author" content="lenxyang@gmail.com">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="azer3D"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="azer3D" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">azer3D</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-28T07:52:22.538Z"><a href="/2016/01/28/d3d11/monblur10/">2016-01-28</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/28/d3d11/monblur10/">2016-01 Direct3D10 Samples - Monblur</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Monblur10"><a href="#Monblur10" class="headerlink" title="Monblur10"></a>Monblur10</h1><h2 id="Problems"><a href="#Problems" class="headerlink" title="Problems"></a>Problems</h2><p>从 hlsl 的代码看， gs 的输出是每次对三角形的一边处理多次，而后生成 triangle。通过一条边生成的 triangle 有意义吗？ 莫非是一次通过对一条边的变换生成三角形？</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">define</span> MAX_TIME_STEPS <span class="number">3</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ExtrudeEdge</span><span class="params">( VSMotionBlurOut v1, </span><br><span class="line">                  VSMotionBlurOut v2, </span><br><span class="line">                  uniform uint iStep,</span><br><span class="line">                  inout TriangleStream&lt;GSMotionBlurOut&gt; SceneTriangleStream )</span> </span>&#123;</span><br><span class="line">    GSMotionBlurOut oV1;</span><br><span class="line">    GSMotionBlurOut oV2;</span><br><span class="line">    ....</span><br><span class="line">    SceneTriangleStream.Append( oV2 );</span><br><span class="line">    SceneTriangleStream.Append( oV1 );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ExtrudeBlurEdges</span><span class="params">( VSMotionBlurOut v1,</span><br><span class="line">                      VSMotionBlurOut v2,</span><br><span class="line">                      inout TriangleStream&lt;GSMotionBlurOut&gt; SceneTriangleStream,</span><br><span class="line">                      uniform <span class="keyword">bool</span> FrontSide )</span> </span>&#123;           </span><br><span class="line">    uint iStart = <span class="number">0</span>;</span><br><span class="line">    uint iEnd = MAX_TIME_STEPS;</span><br><span class="line">    </span><br><span class="line">    [unroll] <span class="keyword">for</span>(uint i=iStart; i&lt;iEnd; i++)</span><br><span class="line">    &#123;       </span><br><span class="line">        ExtrudeEdge( v1, v2, i, SceneTriangleStream );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    SceneTriangleStream.RestartStrip();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[maxvertexcount(<span class="number">30</span>)]</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GSMotionBlurMain</span><span class="params">( triangle VSMotionBlurOut In[<span class="number">3</span>], </span><br><span class="line">                       inout TriangleStream&lt;GSMotionBlurOut&gt; SceneTriangleStream, </span><br><span class="line">                       uniform <span class="keyword">bool</span> bFrontSide )</span> </span>&#123;</span><br><span class="line">  ExtrudeBlurEdges( In[<span class="number">0</span>], In[<span class="number">1</span>], SceneTriangleStream, bFrontSide );</span><br><span class="line">  ExtrudeBlurEdges( In[<span class="number">1</span>], In[<span class="number">2</span>], SceneTriangleStream, bFrontSide );</span><br><span class="line">  ExtrudeBlurEdges( In[<span class="number">2</span>], In[<span class="number">0</span>], SceneTriangleStream, bFrontSide );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Alpha_to_Converage"><a href="#Alpha_to_Converage" class="headerlink" title="Alpha to Converage"></a>Alpha to Converage</h2>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-27T07:49:00.000Z"><a href="/2016/01/27/d3d11/detailmap/">2016-01-27</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/27/d3d11/detailmap/">Direct3D11 Detailmap</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Detailmap"><a href="#Detailmap" class="headerlink" title="Detailmap"></a>Detailmap</h1><h2 id="Tessellation_based_method"><a href="#Tessellation_based_method" class="headerlink" title="Tessellation based method"></a>Tessellation based method</h2><p>Detailmap(Tessellation based) 能够在渲染管线级别上决定几何体的细节，比起 normalmap 和 parallex mapping 要真是的多。(normalmap 无法处理遮挡关系，如果细节起伏较大会失真; parallex mapping 一定程度上解决了遮挡关系的问题，但如果某个高度变化到不可见状态时，parallex mapping 是没办法处理的)</p>
<p>Tessellation based method 还有诸多优点</p>
<h2 id="u5B9E_u73B0_u7EC6_u8282"><a href="#u5B9E_u73B0_u7EC6_u8282" class="headerlink" title="实现细节"></a>实现细节</h2><h3 id="Density_Map"><a href="#Density_Map" class="headerlink" title="Density Map"></a>Density Map</h3><p>Tessellation 的分割参数 (Hull Constants Shader) 与很多因素相关，具体可以分成动态及静态两种；具体来说，与摄像头的距离是动态的，与摄像头的方向夹角这些因素是动态的；此外，Mesh 对象本身的特征是静态的，高度变化较为剧烈的地方应该采用较密集的分割，变化平缓的地方采用较少的分割。高度图是静态的，所以可以采用离线或者加载时刻生成的办法生成一张分割参数的 Texture，用来帮助 Tessellation 的 Hull Constants Shader 的性能</p>
<p>具体可以参考 CreateDensityMapFromHeightMap</p>
<h2 id="DevNotes"><a href="#DevNotes" class="headerlink" title="DevNotes"></a>DevNotes</h2><h1 id="u53C2_u8003"><a href="#u53C2_u8003" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="http://http.developer.nvidia.com/GPUGems2/gpugems2_chapter07.html" target="_blank" rel="external">GPU Gems 2: Chapter 7. Adaptive Tessellation of Subdivision Surfaces with Displacement Mapping</a></li>
<li>Direct3D Rendering CookBook: Chapter 6 Adding Surface Detail with Normal and Displacement Mapping</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-26T07:12:55.000Z"><a href="/2016/01/26/depot_tools/android_repo/">2016-01-26</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/26/depot_tools/android_repo/">android repo</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Android_Repo"><a href="#Android_Repo" class="headerlink" title="Android Repo"></a>Android Repo</h1><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="https://source.android.com/source/using-repo.html" target="_blank" rel="external">Android: Repo command reference</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-26T07:12:55.000Z"><a href="/2016/01/26/depot_tools/svn-access-control/">2016-01-26</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/26/depot_tools/svn-access-control/">svn-access-control</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Svn_Access_Control"><a href="#Svn_Access_Control" class="headerlink" title="Svn Access Control"></a>Svn Access Control</h1><h2 id="Svn_Access_Control-1"><a href="#Svn_Access_Control-1" class="headerlink" title="Svn Access Control"></a>Svn Access Control</h2><p>默认情况下 SVN 使用 DAS 方式管理权限直接配置在服务器端，不过这样做的坏处时权限管理必须访问 SVN 服务器才能够完成。</p>
<p>较为方便的方法是在 Repositiory 当中增加特殊文件表达权限管理，在 checkin 的时候（通过 svn 的 hook 机制）自动生成 DAS 权限管理文件</p>
<h3 id="start-commit"><a href="#start-commit" class="headerlink" title="start-commit"></a>start-commit</h3><h2 id="u53C2_u8003"><a href="#u53C2_u8003" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="http://svnbook.red-bean.com/en/1.7/index.html" target="_blank" rel="external">Version Control with Subversion(1.7)</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-26T07:12:55.000Z"><a href="/2016/01/26/depot_tools/svn-setup/">2016-01-26</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/26/depot_tools/svn-setup/">svn-setup</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="u67B6_u8BBE_svn__u670D_u52A1_u5668"><a href="#u67B6_u8BBE_svn__u670D_u52A1_u5668" class="headerlink" title="架设 svn 服务器"></a>架设 svn 服务器</h2><h3 id="u521B_u5EFA_svn__u8DEF_u5F84"><a href="#u521B_u5EFA_svn__u8DEF_u5F84" class="headerlink" title="创建 svn 路径"></a>创建 svn 路径</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo adduser svn ...</span><br><span class="line">$ mkdir <span class="regexp">/home/</span>svn<span class="regexp">/repo/</span></span><br><span class="line">$ svnadmin create <span class="regexp">/home/</span>svn<span class="regexp">/repo/</span>test</span><br></pre></td></tr></table></figure>
<h3 id="u67B6_u8BBE_http_28https_29__u670D_u52A1_u5668"><a href="#u67B6_u8BBE_http_28https_29__u670D_u52A1_u5668" class="headerlink" title="架设 http(https) 服务器"></a>架设 http(https) 服务器</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># &#23433;&#35013; apache svn &#27169;&#22359;&#10;apt-get install apache2 libapache2-mod-svn&#10;&#10;# &#36890;&#36807; htpasswd &#29983;&#25104;&#23494;&#30721;&#10;apt-get install apache2-utils</span><br></pre></td></tr></table></figure>
<h3 id="u914D_u7F6E_http__u52A0_u8F7D_u9879_u53CA_u8DEF_u5F84"><a href="#u914D_u7F6E_http__u52A0_u8F7D_u9879_u53CA_u8DEF_u5F84" class="headerlink" title="配置 http 加载项及路径"></a>配置 http 加载项及路径</h3><h4 id="u914D_u7F6E_HTTP__u52A0_u8F7D_u9879"><a href="#u914D_u7F6E_HTTP__u52A0_u8F7D_u9879" class="headerlink" title="配置 HTTP 加载项"></a>配置 HTTP 加载项</h4><p>在 /etc/apache2/apache2.conf</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LoadModule dav_module           modules/mod_dav.so</span><br><span class="line">#LoadModule dav_fs_module       modules/mod_dav_fs.so</span><br><span class="line">LoadModule dav_svn_module       modules/mod_dav_svn.so</span><br><span class="line">LoadModule authz_svn_module     modules/mod_authz_svn.so</span><br></pre></td></tr></table></figure>
<h4 id="u5728_/etc/apache2/sites-available/000-default-conf__u5F53_u4E2D_u589E_u52A0_u4E00_u4E0B_u914D_u7F6E"><a href="#u5728_/etc/apache2/sites-available/000-default-conf__u5F53_u4E2D_u589E_u52A0_u4E00_u4E0B_u914D_u7F6E" class="headerlink" title="在  /etc/apache2/sites-available/000-default.conf 当中增加一下配置"></a>在  /etc/apache2/sites-available/000-default.conf 当中增加一下配置</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">Location</span> /<span class="attribute">svn</span>&gt;</span></span><br><span class="line">   DAV svn</span><br><span class="line">   SVNParentPath /home/svn/repo</span><br><span class="line">   AuthName "svn"</span><br><span class="line">   AuthType Basic</span><br><span class="line">   AuthUserFile /home/svn/repo/.svn-auth-file</span><br><span class="line">   Require valid-user</span><br><span class="line"><span class="tag">&lt;/<span class="title">Location</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="u521B_u5EFA_u53EF_u4EE5_u53EF_u4EE5_u8D26_u6237_u7528_u4E8E_u8BBF_u95EE_svn__u5E76_u91CD_u65B0_u542F_u52A8_httpd"><a href="#u521B_u5EFA_u53EF_u4EE5_u53EF_u4EE5_u8D26_u6237_u7528_u4E8E_u8BBF_u95EE_svn__u5E76_u91CD_u65B0_u542F_u52A8_httpd" class="headerlink" title="创建可以可以账户用于访问 svn 并重新启动 httpd"></a>创建可以可以账户用于访问 svn 并重新启动 httpd</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo htpasswd -cs /home/svn/repo/.svn-auth-file yanglei</span><br><span class="line">$ sudo /etc/init.d/apache2 restart</span><br></pre></td></tr></table></figure>
<p>此时通过 http 已经可以访问 svn 了，直接用浏览器打开</p>
<h4 id="u4F7F_u7528_svn__u5BA2_u6237_u7AEF_u6D4B_u8BD5"><a href="#u4F7F_u7528_svn__u5BA2_u6237_u7AEF_u6D4B_u8BD5" class="headerlink" title="使用 svn 客户端测试"></a>使用 svn 客户端测试</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn co http://<span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">8000</span>/svn/<span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<h3 id="u901A_u8FC7_https__u8BBF_u95EE"><a href="#u901A_u8FC7_https__u8BBF_u95EE" class="headerlink" title="通过 https 访问"></a>通过 https 访问</h3><h4 id="u52A0_u8F7D_ssl_mod"><a href="#u52A0_u8F7D_ssl_mod" class="headerlink" title="加载 ssl_mod"></a>加载 ssl_mod</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在 /etc/apache2/apache2.conf 增加</span></span><br><span class="line">Include /etc/apache2/mods-available/ssl.conf</span><br><span class="line">LoadModule ssl_module /usr/lib/apache2/modules/mod_ssl.so</span><br></pre></td></tr></table></figure>
<h4 id="u6253_u5F00_u7AEF_u53E3"><a href="#u6253_u5F00_u7AEF_u53E3" class="headerlink" title="打开端口"></a>打开端口</h4><p>默认情况下，ssl 端口是不打开的，直接修改 /etc/apache2/ports.conf 的配置打开端口</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Listen <span class="number">80</span></span><br><span class="line">&lt;IfModule ssl_module&gt;</span><br><span class="line">        Listen <span class="number">443</span></span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure>
<h4 id="u542F_u7528_u7AD9_u70B9"><a href="#u542F_u7528_u7AD9_u70B9" class="headerlink" title="启用站点"></a>启用站点</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo a2ensite default-ssl.conf</span><br></pre></td></tr></table></figure>
<h4 id="u751F_u6210_u81EA_u5DF1_u7684_key"><a href="#u751F_u6210_u81EA_u5DF1_u7684_key" class="headerlink" title="生成自己的 key"></a>生成自己的 key</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mkdir /etc/apache2/ssl</span><br><span class="line">$ sudo openssl req -new -x509 -keyout /etc/apache2/ssl/server.key -out /etc/apache2/ssl/server.csr -days <span class="number">365</span> -nodes</span><br><span class="line">Country Name (<span class="number">2</span> letter code) [AU]:</span><br><span class="line">State or Province Name (full name) [Some-State]:</span><br><span class="line">Locality Name (eg, city) []:</span><br><span class="line">Organization Name (eg, company) [Internet Widgits Pty Ltd]:</span><br><span class="line">Organizational Unit Name (eg, section) []:</span><br><span class="line">Common Name (eg, YOUR name) []:svn</span><br></pre></td></tr></table></figure>
<p><strong> 注意：</strong> Common Name 最好与站点名称一致否则会出错</p>
<h4 id="u542F_u52A8_key"><a href="#u542F_u52A8_key" class="headerlink" title="启动 key"></a>启动 key</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># file path: /etc/apache2/sites-available/ssl-default</span><br><span class="line">       #   SSL Engine Switch:</span><br><span class="line">       #   Enable/Disable SSL for this virtual host.</span><br><span class="line">       SSLEngine on</span><br><span class="line">       #   A self-signed (snakeoil) certificate can be created by installing</span><br><span class="line">       #   the ssl-cert package. See</span><br><span class="line">       #   /usr/share/doc/apache2/README.Debian.gz for more info.</span><br><span class="line">       #   If both key and certificate are stored in the same file, only the</span><br><span class="line">       #   SSLCertificateFile directive is needed.</span><br><span class="line">       SSLCertificateFile      /etc/apache2/ssl/server.csr</span><br><span class="line">       SSLCertificateKeyFile   /etc/apache2/ssl/server.key</span><br></pre></td></tr></table></figure>
<h3 id="u4EE5_svn__u8D26_u6237_u8FD0_u884C"><a href="#u4EE5_svn__u8D26_u6237_u8FD0_u884C" class="headerlink" title="以 svn 账户运行"></a>以 svn 账户运行</h3><h2 id="svn__u6743_u9650_u7BA1_u7406"><a href="#svn__u6743_u9650_u7BA1_u7406" class="headerlink" title="svn 权限管理"></a>svn 权限管理</h2><h2 id="u89E3_u51B3_u7684_u65B9_u6CD5"><a href="#u89E3_u51B3_u7684_u65B9_u6CD5" class="headerlink" title="解决的方法"></a>解决的方法</h2><h3 id="u68C0_u67E5_apache2__u65E5_u5FD7"><a href="#u68C0_u67E5_apache2__u65E5_u5FD7" class="headerlink" title="检查 apache2 日志"></a>检查 apache2 日志</h3><p>如果遇到什么问题，先查看 apache2 的日志，常见的问题答案就在里面。如果希望得到更详细的信息，可以在 /etc/apache2/apache2.conf 当中修改日志级别</p>
<h3 id="u68C0_u67E5_u7AEF_u53E3_u662F_u5426_u6253_u5F00"><a href="#u68C0_u67E5_u7AEF_u53E3_u662F_u5426_u6253_u5F00" class="headerlink" title="检查端口是否打开"></a>检查端口是否打开</h3><p>在配置 https 服务时，想要确定服务是否已经打开，最简单的办法是通过 netstat 命令查看 443 端口是否打开</p>
<h2 id="Trouble_Shooting"><a href="#Trouble_Shooting" class="headerlink" title="Trouble Shooting"></a>Trouble Shooting</h2><h3 id="apache__u7AD9_u70B9_u4E0D_u751F_u6548"><a href="#apache__u7AD9_u70B9_u4E0D_u751F_u6548" class="headerlink" title="apache 站点不生效"></a>apache 站点不生效</h3><p>/etc/apache2/sites-available 的意思是 “可用的网站”，并非 ”生效的网站“。通过 a2ensite 和 a2dissite 启用或停止网站。</p>
<h3 id="AH00566_3A_request_failed_3A_invalid_characters_in_URI"><a href="#AH00566_3A_request_failed_3A_invalid_characters_in_URI" class="headerlink" title="AH00566: request failed: invalid characters in URI"></a>AH00566: request failed: invalid characters in URI</h3><p>通过 https 访问时报错且 apache2 日志出现 “invalid characters in URI“。最后发现，site-available/default-ssl 所有配置，包含在 <ifmodule ssl_module=""> 当中，实际上并未启动。将 <ifmodule ssl_module=""> 注释掉之后，可以正常的通过 https 访问</ifmodule></ifmodule></p>
<h2 id="u5728_CentOS__u4E0A_u67B6_u8BBE"><a href="#u5728_CentOS__u4E0A_u67B6_u8BBE" class="headerlink" title="在 CentOS 上架设"></a>在 CentOS 上架设</h2><p>之前描述的 ubuntu 上的架设过程， CentOS 由于 apache 的配置目录有很大不同，所以配置也有差别, 接下来以 RHEL 7 为例介绍</p>
<h3 id="u5B89_u88C5_u8F6F_u4EF6"><a href="#u5B89_u88C5_u8F6F_u4EF6" class="headerlink" title="安装软件"></a>安装软件</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install httpd.x86_64 mod_dav_svn.x86_64 mod_ssl.x86_64</span><br></pre></td></tr></table></figure>
<h3 id="u4FEE_u6539_u914D_u7F6E_u6587_u4EF6"><a href="#u4FEE_u6539_u914D_u7F6E_u6587_u4EF6" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><p>CentOS 上的配置与 Ubuntu 有极大不同，Ubuntu 细化了配置，用户需要配置站点级别，而 CentOS 仅仅有最简单的配置。</p>
<p>修改文件 /etc/httpd/conf/httpd.conf<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">443</span>&gt;</span><br><span class="line">  SSLEngine on</span><br><span class="line">  SSLCertificateFile      /etc/httpd/ssl/server.csr</span><br><span class="line">  SSLCertificateKeyFile   /etc/httpd/ssl/server.key</span><br><span class="line"></span><br><span class="line">  &lt;Location /svn&gt;</span><br><span class="line">     DAV svn</span><br><span class="line">     SVNParentPath /home/svn/repo</span><br><span class="line">     AuthName <span class="string">"SVN Repositories"</span></span><br><span class="line">     AuthType Basic</span><br><span class="line">     AuthUserFile /home/svn/repo/.svn-auth-file</span><br><span class="line">     Require valid-user</span><br><span class="line">  &lt;/Location&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure></p>
<p>此外还要更改文件 /etc/httpd/conf.d/ssl.conf<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Listen 443 https</span></span><br><span class="line"><span class="comment"># Listen 0.0.0.0:443 https</span></span><br></pre></td></tr></table></figure></p>
<p>否则 httpd 仅仅监听 ip6 的端口， ipv4 端口不能访问</p>
<h3 id="u542F_u52A8_u670D_u52A1"><a href="#u542F_u52A8_u670D_u52A1" class="headerlink" title="启动服务"></a>启动服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service httpd restart</span><br></pre></td></tr></table></figure>
<h3 id="u67E5_u770B_u670D_u52A1_u72B6_u6001_u673A_u65E5_u5FD7"><a href="#u67E5_u770B_u670D_u52A1_u72B6_u6001_u673A_u65E5_u5FD7" class="headerlink" title="查看服务状态机日志"></a>查看服务状态机日志</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status httpd.service</span><br></pre></td></tr></table></figure>
<h2 id="Trouble_Shooting-1"><a href="#Trouble_Shooting-1" class="headerlink" title="Trouble Shooting"></a>Trouble Shooting</h2><h3 id="5B_3Aerror_5D__5Bpid_8974_5D__2820014_29Internal_error_3A_Can_u2019t_open_file__u2018/home/svn/repo/xxx/format_u2019_3A_Permission_denied"><a href="#5B_3Aerror_5D__5Bpid_8974_5D__2820014_29Internal_error_3A_Can_u2019t_open_file__u2018/home/svn/repo/xxx/format_u2019_3A_Permission_denied" class="headerlink" title="[:error] [pid 8974] (20014)Internal error: Can’t open file ‘/home/svn/repo/xxx/format’: Permission denied"></a>[:error] [pid 8974] (20014)Internal error: Can’t open file ‘/home/svn/repo/xxx/format’: Permission denied</h3><p>一般来说此错误是没有权限导致的，如果即使授予 777 或者更改 owner 仍然出现此错误的话，有可能是 selinux 导致的，通过命令 setenforce 0 关闭它再尝试。</p>
<p>如果想要永久关闭 selinux, 可以修改配置文件 /etc/selinux/config</p>
<h2 id="u53C2_u8003"><a href="#u53C2_u8003" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://wiki.archlinux.org/index.php/Subversion_Setup" target="_blank" rel="external">ArchLinux: Subversion Setup</a></li>
<li><a href="https://help.ubuntu.com/community/Subversion" target="_blank" rel="external">Ubuntu Wiki: Subversion</a></li>
<li><a href="http://www.apache-ssl.org/" target="_blank" rel="external">Apache-SSL</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-25T08:52:47.000Z"><a href="/2016/01/25/d3d11/tessellation_devnotes/">2016-01-25</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/25/d3d11/tessellation_devnotes/">Tessellation Devnotes</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Tessellation__28DevNotes_29"><a href="#Tessellation__28DevNotes_29" class="headerlink" title="Tessellation (DevNotes)"></a>Tessellation (DevNotes)</h1><h2 id="Troubles_Shooting"><a href="#Troubles_Shooting" class="headerlink" title="Troubles Shooting"></a>Troubles Shooting</h2><h3 id="u6E32_u67D3_quad__u65F6_u53EA_u80FD_u51FA_u73B0_u4E24_u4E2A_u5BF9_u89D2_u4E09_u89D2_u5F62_uFF0C_u800C_u975E4_u4E2A_u4E09_u89D2_u5F62"><a href="#u6E32_u67D3_quad__u65F6_u53EA_u80FD_u51FA_u73B0_u4E24_u4E2A_u5BF9_u89D2_u4E09_u89D2_u5F62_uFF0C_u800C_u975E4_u4E2A_u4E09_u89D2_u5F62" class="headerlink" title="渲染 quad 时只能出现两个对角三角形，而非4个三角形"></a>渲染 quad 时只能出现两个对角三角形，而非4个三角形</h3><p>问题发生在插值函数上</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">DsOutput <span class="title">ds_main</span><span class="params">(...)</span> </span>&#123;</span><br><span class="line">  float3 v1 = lerp(quad[<span class="number">0</span>].position.xyz, quad[<span class="number">1</span>].position.xyz, uv.x);</span><br><span class="line">  float3 v2 = lerp(quad[<span class="number">3</span>].position.xyz, quad[<span class="number">2</span>].position.xyz, uv.x);</span><br><span class="line">  output.position = mul(pvw, float4(lerp(v1, v2, uv.y), <span class="number">1.0f</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>开始是将 v2 的插值顺序写反了 (quad[3], quad[2])<br>注意：azer3d 采用的是右手坐标系</p>
<h3 id="Terrain_Hull_Constants_Shader__u8BA1_u7B97"><a href="#Terrain_Hull_Constants_Shader__u8BA1_u7B97" class="headerlink" title="Terrain Hull Constants Shader 计算"></a>Terrain Hull Constants Shader 计算</h3><p>Terrain 的 Constants Shader 计算是基于距离的计算（深度或者到摄像头的具体），其基本思想是距离越大分割越少，不过有一点需要注意：并非距离越远分割越少，而是超过一定距离之后就不在分割（或者仅仅分割一次）。</p>
<h3 id="Terrain_Quad_Tessellation__u5206_u5272_u4E0D_u7B26_u5408_u9884_u671F"><a href="#Terrain_Quad_Tessellation__u5206_u5272_u4E0D_u7B26_u5408_u9884_u671F" class="headerlink" title="Terrain Quad Tessellation 分割不符合预期"></a>Terrain Quad Tessellation 分割不符合预期</h3><p>观察到的现象：分割的数量没有规律，似乎在近处少，处在某个地方是分割的最多。为了修复这个问题尝试使用 “固定点” 代替 eyepos 作为距离计算的基点，发现分割似乎仍然与 eyepos 有关。后来通过 Visual studio 的调试工具观察，发现某些常量的值异常。</p>
<p>最终确定是因为 HLSL 对全部变量不支持操作的， 将四个全局变量移动到函数内部，结果符合预期.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">  放在这里是不行的</span><br><span class="line">float gMinDist = 20.0f;</span><br><span class="line">float gMaxDist = 50.0f;</span><br><span class="line">float gMinTess = 0.0f;</span><br><span class="line">float gMaxTess = 6.0f;</span><br><span class="line">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">CalcTesFactor</span><span class="params">(in float4 p)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">float</span> gMinDist = <span class="number">20.0f</span>;</span><br><span class="line">  <span class="keyword">float</span> gMaxDist = <span class="number">50.0f</span>;</span><br><span class="line">  <span class="keyword">float</span> gMinTess = <span class="number">0.0f</span>;</span><br><span class="line">  <span class="keyword">float</span> gMaxTess = <span class="number">6.0f</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">float</span> d = distance(p.xyz, eyepos);</span><br><span class="line">  <span class="keyword">float</span> s = saturate((d - gMinDist) / (gMaxDist - gMinDist));</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">pow</span>(<span class="number">2</span>, lerp(gMaxTess, gMinTess, s));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="u907F_u514D_u9F9F_u88C2"><a href="#u907F_u514D_u9F9F_u88C2" class="headerlink" title="避免龟裂"></a>避免龟裂</h3><p>从直观上将只要保证任意一条边的分割是一致的就可以避免龟裂(边可能被多个三角形共享)，做到这点并不困难只要根据这个边的两个顶点计算 Hull Constants Shader 就可以保证了。</p>
<p>不过除此之外，还有一些其他隐含约束需要考虑，以 Quad 为例，他的顶点的顺序是在 IndexBuffer 当中指定的，而 Hull Constants Shader 的边的顺序是隐含约定的</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> HSCOutput &#123;</span><br><span class="line">  <span class="comment">// top left bottom right</span></span><br><span class="line">  <span class="keyword">float</span> edge[<span class="number">4</span>]: SV_TessFactor;</span><br><span class="line">  <span class="keyword">float</span> inside[<span class="number">2</span>]:  SV_InsideTessFactor;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>如果计算边的分割使用的错误的顶点的话也会出问题</p>
<h2 id="u53C2_u8003"><a href="#u53C2_u8003" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="http://www.mistal-research.com/terrainTessellation.php" target="_blank" rel="external">GPU Pro 4: GPU Terrain Subdivision and Tessellation</a></li>
<li>Hardware Accelerated Displacement Mapping for Image Based Rendering</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-25T08:52:47.000Z"><a href="/2016/01/25/d3d11/shadowmap_devnotes/">2016-01-25</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/25/d3d11/shadowmap_devnotes/">Shadowmap Devnotes</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Shadowmap__28DevNotes_29"><a href="#Shadowmap__28DevNotes_29" class="headerlink" title="Shadowmap (DevNotes)"></a>Shadowmap (DevNotes)</h1><h2 id="Troubles"><a href="#Troubles" class="headerlink" title="Troubles"></a>Troubles</h2><h3 id="u4F7F_u7528_Light_Camera__u6E32_u67D3_u65F6_uFF0C_u6CA1_u6709_Pixel_Stage"><a href="#u4F7F_u7528_Light_Camera__u6E32_u67D3_u65F6_uFF0C_u6CA1_u6709_Pixel_Stage" class="headerlink" title="使用 Light Camera 渲染时，没有 Pixel Stage"></a>使用 Light Camera 渲染时，没有 Pixel Stage</h3><p>在使用 Light Camera 渲染时，从 Visual Studio 的图形诊断看，Vertex Stage 是正常的，但是 PixelStage 就没有内容了。<br>原因是：对于 Light Camera 来说, 这些对象都是不可见的。</p>
<h3 id="u5224_u65AD_u6295_u5F71_u5750_u6807_u662F_u5426_u6B63_u786E"><a href="#u5224_u65AD_u6295_u5F71_u5750_u6807_u662F_u5426_u6B63_u786E" class="headerlink" title="判断投影坐标是否正确"></a>判断投影坐标是否正确</h3><p>可以直接将深度绘制出来，不进行其他任何计算，看是否符合预期</p>
<h3 id="Texturemap__u4E0E_shadowmap__u6DF7_u6DC6"><a href="#Texturemap__u4E0E_shadowmap__u6DF7_u6DC6" class="headerlink" title="Texturemap 与 shadowmap 混淆"></a>Texturemap 与 shadowmap 混淆</h3><p>对 texturemap 增加后缀后问题解决<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Texture2D texmap : <span class="keyword">register</span>(t0);</span><br><span class="line">Texture2D shadowmap : <span class="keyword">register</span>(t1);</span><br></pre></td></tr></table></figure></p>
<h3 id="u5BF9_u8C61_u6295_u5F71_u9519_u8BEF"><a href="#u5BF9_u8C61_u6295_u5F71_u9519_u8BEF" class="headerlink" title="对象投影错误"></a>对象投影错误</h3><p>原因是传递的 Light Projection View Matrix 没有乘上物体的 World matrix, 这个错误在当前框架下比较容易犯。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-25T08:52:47.000Z"><a href="/2016/01/25/hdfs/fuse-on-hdfs/">2016-01-25</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/25/hdfs/fuse-on-hdfs/">fuse driver for HDFS</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Trouble_Shooting"><a href="#Trouble_Shooting" class="headerlink" title="Trouble Shooting"></a>Trouble Shooting</h1><h2 id="u7F16_u8BD1_libhdfs"><a href="#u7F16_u8BD1_libhdfs" class="headerlink" title="编译 libhdfs"></a>编译 libhdfs</h2><p>使用 cdh 版本的 hadoop, 默认 libhdfs 不会编译</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;hadoop_client&#125;</span>/src/hadoop-mapreduce1-project/src/c++/libhdfs</span><br><span class="line">./bootstrap.sh</span><br><span class="line">./configure</span><br><span class="line">make</span><br></pre></td></tr></table></figure>
<h2 id="u53EF_u80FD_u9047_u5230_u7684_u95EE_u9898"><a href="#u53EF_u80FD_u9047_u5230_u7684_u95EE_u9898" class="headerlink" title="可能遇到的问题"></a>可能遇到的问题</h2><ul>
<li>cc1: error: unrecognized command line option “-m”</li>
</ul>
<p>gcc 使用 -m 选项指定 target arch, 出现这个错误的原因是 -m 后面没有跟参数。在所有没有参数的 -m 后面增加 64 即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CFLAGS = -g -O2 -DOS_LINUX -DDSO_DLFCN -DCPU=\<span class="string">"amd64\" -m64</span><br><span class="line">LDFLAGS =  -m64 -L/usr/jdk_home/jre/lib/amd64/server</span></span><br></pre></td></tr></table></figure>
<ul>
<li>include/stddef.h:211: error: duplicate ‘unsigned</li>
</ul>
<p>这个错误是因为 Makefile 当中包含</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Dsize_t=unsigned\ int</span><br></pre></td></tr></table></figure>
<h2 id="fuse__u603B_u662F_u4EE5_4096__u4E3A_u5355_u4F4D_u8BFB_u5199"><a href="#fuse__u603B_u662F_u4EE5_4096__u4E3A_u5355_u4F4D_u8BFB_u5199" class="headerlink" title="fuse 总是以 4096 为单位读写"></a>fuse 总是以 4096 为单位读写</h2><p>启动时增加 options, 注意 big_writes 必须启用，否则其他选项不起作用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-o max_readahead=<span class="number">1024000</span> -omax_write=<span class="number">1024000</span> -obig_writes</span><br></pre></td></tr></table></figure>
<h2 id="u5176_u4ED6_u7528_u6237_u65E0_u6CD5_u8BBF_u95EE_fuse__u8DEF_u5F84"><a href="#u5176_u4ED6_u7528_u6237_u65E0_u6CD5_u8BBF_u95EE_fuse__u8DEF_u5F84" class="headerlink" title="其他用户无法访问 fuse 路径"></a>其他用户无法访问 fuse 路径</h2><p>在挂载 mdfs 之后，如果使用其他账户进行操作会出现 “ls: cannot access test: Permission denied” 错误。这是 fuse 的配置导致</p>
<p>修改 /etc/fuse.conf</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user_allow_other</span><br></pre></td></tr></table></figure>
<p>此外运行 mdfs 时增加 <strong><em> -oallow_other </em></strong> ， 问题就解决了</p>
<h2 id="java-lang-UnsupportedClassVersionError"><a href="#java-lang-UnsupportedClassVersionError" class="headerlink" title="java.lang.UnsupportedClassVersionError"></a>java.lang.UnsupportedClassVersionError</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Exception <span class="keyword">in</span> thread <span class="string">"main"</span> java.lang.UnsupportedClassVersionError: org/apache/hadoop/conf/Configuration : Unsupported major.minor version <span class="number">51.0</span></span><br><span class="line">   at java.lang.ClassLoader.defineClass1(Native Method)</span><br><span class="line">   at java.lang.ClassLoader.defineClass(ClassLoader.java:<span class="number">634</span>)</span><br><span class="line">   ...</span><br></pre></td></tr></table></figure>
<p>这很有可能是机器上安装了多个 java 版本且使用了错误的版本导致的</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-25T08:52:47.000Z"><a href="/2016/01/25/azer/month-report-201511/">2016-01-25</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/25/azer/month-report-201511/">2015-11 Month Report</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="201511__u6708_u5DE5_u4F5C"><a href="#201511__u6708_u5DE5_u4F5C" class="headerlink" title="201511 月工作"></a>201511 月工作</h1><h2 id="20151101_7E2015117"><a href="#20151101_7E2015117" class="headerlink" title="20151101~2015117"></a>20151101~2015117</h2><ul>
<li>UI frameword<ul>
<li>重构 nelf/Toolbar(completed, 20151102)</li>
<li>window shortcut(doing)</li>
<li>Effect UI</li>
<li>Simple Material Window</li>
<li>window dock(Visual Studio Style)</li>
</ul>
</li>
<li>Object Controller<ul>
<li>Rotation Controller(completed, 20151102)</li>
<li>Translation Controller(20151103)</li>
<li>Scale Controller(20151105)</li>
<li>Picking Helper(20151105)</li>
</ul>
</li>
<li>Light Controller<ul>
<li>Spot Light Mesh(2015117)</li>
<li>Directional Light Mesh(2015117)</li>
<li>Point Light Mesh(2015117)</li>
<li>Light Parameters UI</li>
</ul>
</li>
<li>Others<ul>
<li>追查渲染速度变慢的原因(新的 mesh 框架) (20151103)<ul>
<li>原因是 cow.obj 有300多个 meshpart, 默认情况下每一个 meshpart 都会切换一次 effect, GpuConstantTable 等，因此就导致的速度很慢。</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-25T08:52:47.000Z"><a href="/2016/01/25/hexo/hexo-setup/">2016-01-25</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/25/hexo/hexo-setup/">hexo-setup</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Hexo-setup"><a href="#Hexo-setup" class="headerlink" title="Hexo-setup"></a>Hexo-setup</h1><h2 id="u5B89_u88C5_hexo"><a href="#u5B89_u88C5_hexo" class="headerlink" title="安装 hexo"></a>安装 hexo</h2><h2 id="hexo__u57FA_u7840_u64CD_u4F5C"><a href="#hexo__u57FA_u7840_u64CD_u4F5C" class="headerlink" title="hexo 基础操作"></a>hexo 基础操作</h2><h2 id="u90E8_u7F72_u5230_github"><a href="#u90E8_u7F72_u5230_github" class="headerlink" title="部署到 github"></a>部署到 github</h2><h3 id="u5EFA_u7ACB_u4FE1_u4EFB_u5173_u7CFB"><a href="#u5EFA_u7ACB_u4FE1_u4EFB_u5173_u7CFB" class="headerlink" title="建立信任关系"></a>建立信任关系</h3><p>hexo 需要将生成的内容 push 到 git 服务器上。 使用 ssh 的协议能够免密码 push。具体操作是将 ssh-keygen 生成的 public key 文件添加到 github 的 deploy key 当中。</p>
<h3 id="u4FEE_u6539__config"><a href="#u4FEE_u6539__config" class="headerlink" title="修改 _config"></a>修改 _config</h3><p>修改 _config.yaml<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: http://hexo.io/docs/deployment.html</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:lenxyang/lenxyang.github.io.git</span><br></pre></td></tr></table></figure></p>
<h2 id="u5B89_u88C5_u4E3B_u9898"><a href="#u5B89_u88C5_u4E3B_u9898" class="headerlink" title="安装主题"></a>安装主题</h2><h3 id="u5C06_u4E3B_u9898_u4FDD_u5B58_u5728_themes__u76EE_u5F55_u4E0B"><a href="#u5C06_u4E3B_u9898_u4FDD_u5B58_u5728_themes__u76EE_u5F55_u4E0B" class="headerlink" title="将主题保存在 themes 目录下"></a>将主题保存在 themes 目录下</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/hexojs/hexo-theme-light.git themes/light</span><br></pre></td></tr></table></figure>
<h3 id="u4FEE_u6539__config-yaml"><a href="#u4FEE_u6539__config-yaml" class="headerlink" title="修改 _config.yaml"></a>修改 _config.yaml</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: http://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: http://hexo.io/themes/</span></span><br><span class="line"><span class="comment">## theme: landscape</span></span><br><span class="line">theme: light</span><br></pre></td></tr></table></figure>
<h2 id="Trouble_Shooting"><a href="#Trouble_Shooting" class="headerlink" title="Trouble Shooting"></a>Trouble Shooting</h2><h3 id="u8FD0_u884C_hexo__u662F_u63D0_u793A__u201C/usr/bin/env_3A_node_3A_No_such_file_or_directory_u201D"><a href="#u8FD0_u884C_hexo__u662F_u63D0_u793A__u201C/usr/bin/env_3A_node_3A_No_such_file_or_directory_u201D" class="headerlink" title="运行 hexo 是提示 “/usr/bin/env: node: No such file or directory”"></a>运行 hexo 是提示 “/usr/bin/env: node: No such file or directory”</h3><p>最简单的办法是</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install nodejs-legacy</span><br></pre></td></tr></table></figure>
<h3 id="hexo_deploy_3A_ERROR_Deployer_not_found_3A_github"><a href="#hexo_deploy_3A_ERROR_Deployer_not_found_3A_github" class="headerlink" title="hexo deploy: ERROR Deployer not found: github"></a>hexo deploy: ERROR Deployer not found: github</h3><p>hexo 从 3.0 以后，type 由 github 变为了 git。毕竟主要有一个 git repository 就可以部署了，并非 github 不可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: http://hexo.io/docs/deployment.html</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:lenxyang/lenxyang.github.io.git</span><br></pre></td></tr></table></figure>
<h2 id="u53C2_u8003"><a href="#u53C2_u8003" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://nodejs.org/en/download/package-manager/" target="_blank" rel="external">Installing Node.js via package manager</a></li>
<li><a href="https://www.zhihu.com/question/24422335" target="_blank" rel="external">知乎: 有哪些好看的 Hexo 主题？</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
    <a href="/" class="alignleft prev">上一頁</a>
  
  
    <a href="/page/3/" class="alignright next">下一頁</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜尋">
    <input type="hidden" name="q" value="site:lenxyang.github.io">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">標籤</h3>
  <ul class="entry">
  
    <li><a href="/tags/3d/">3d</a><small>1</small></li>
  
    <li><a href="/tags/azer3d/">azer3d</a><small>4</small></li>
  
    <li><a href="/tags/chromium/">chromium</a><small>2</small></li>
  
    <li><a href="/tags/computer-graphics/">computer graphics</a><small>2</small></li>
  
    <li><a href="/tags/direct3d/">direct3d</a><small>11</small></li>
  
    <li><a href="/tags/docker/">docker</a><small>2</small></li>
  
    <li><a href="/tags/effect/">effect</a><small>1</small></li>
  
    <li><a href="/tags/fuse/">fuse</a><small>1</small></li>
  
    <li><a href="/tags/gdi/">gdi</a><small>1</small></li>
  
    <li><a href="/tags/gn/">gn</a><small>1</small></li>
  
    <li><a href="/tags/hdfs/">hdfs</a><small>2</small></li>
  
    <li><a href="/tags/hexo/">hexo</a><small>1</small></li>
  
    <li><a href="/tags/skia/">skia</a><small>1</small></li>
  
    <li><a href="/tags/svn/">svn</a><small>4</small></li>
  
    <li><a href="/tags/toolchain/">toolchain</a><small>4</small></li>
  
    <li><a href="/tags/version-control/">version control</a><small>2</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2016 lenxyang@gmail.com
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>